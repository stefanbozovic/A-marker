<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Marker</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/styles.min.css">

    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
</head>

<body>
    <div id="fullscreen"> </div>
    <p id="praises" class=" d-none">
        Great job!
        Keep it up until you are as brilliant as you can be!!! - Laica
        Succes only comes once, but a failure is a constant companion
        "Pain is temporary, victory is forever" - Aatrox
        "A true master is an eternal student" - Yi
        "Its not how much time you have, it's how you use it" - Ekko
        "I'd rather make mistakes than make nothing at all" - Ekko
        "People fear what they do not understand" - Syndra
        "The darker the night, the brighter the stars" - Braum
        If you can't make the most out of any given moment, you don't deserve a single extra second.
        "Learn from your mistakes." - Riven
        "To conquer our fears, we must move forward."
        "If I stumble, I have the earth to catch me."
        “There are no shortcuts to any place worth going.”
        Terrific progress!
        Far Out!
        You Go the Extra Mile.
        Way to Go!
        Winners aren't who never fail but who never quit.
    </p>
    <div class="container-fluid d-flex flex-row justify-content-between p-3 align-items-center">
        <button class="mainlogo mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect ">

        </button>
        <p id="headertext" class="top-text m-0 ">Paragraph</p>
        <button id="tt5" class="timer mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect ">
            <div id="seconds-counter" class="timediv">
                25:00
            </div>
        </button>

    </div>
    <div>
        <div class="container p-0" style="max-width:800px;">
            <div class="progress">
                <div id="myBar" class="progress-bar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"
                    style="width: 0%;"><span class="sr-only">50%</span></div>
            </div>
        </div>
        <div class="container p-0">

            <div id="newfile">
                <textarea type="text" id="here" placeholder="Type or paste text."></textarea>
                <div class="d-flex justify-content-center">
                    <button id="submit" class="btn btn-secondary " onclick="getSplitedRows()">Start</button>
                </div>
            </div>
            <div id="textmarking">
                <div class="btn-toolbar d-flex flex-row justify-content-between">
                    <button id="tt1" class="mdl-button mdl-js-button mdl-button--icon .mdl1 mdl-js-ripple-effect "
                        onclick="NewFileFunction()">
                        <i class="material-icons">add</i>
                    </button>
                    <div class="btn-group" role="group">
                        
                    <button id="tt4" class="mdl-button mdl-js-button mdl-button--icon .mdl1 mdl-js-ripple-effect" onclick="openFullscreen()">
                        <i class="material-icons">open_in_full</i>
                    </button>

                    <div class="mdl-tooltip" data-mdl-for="tt1">
                        New file
                    </div>
                    <div class="mdl-tooltip" data-mdl-for="tt4">
                        Fullscreen
                    </div>

                    </div>
                </div>
                <div class="container textcard">
                    <div id="divhere">
                        <br><br><br><br><br><br><br><br>
                        <br><br><br><br><br><br><br><br>
                    </div>
                </div>
                <div class="container d-flex justify-content-center mainbtns">
                    <button id="" onclick="RemoveLastRow()" class="btn btn-secondary up" type="button">^<br>UP</button>
                    <button id="neznam" onclick="neZnam()" class="btn btn-secondary red"
                        type="button">1&nbsp;<br>RELEARN</button>
                    <button id="onako" onclick="Onako()" class="btn btn-secondary orange"
                        type="button">2<br>REPEAT</button>
                    <button id="znam" onclick="Znam()" class="btn btn-secondary green"
                        type="button">3&nbsp;<br>GOOD</button>
                </div>
            </div>

        </div>
        <div></div>

        <script>
            var praisesarr;
            var ap = document.getElementById('praises');
            praisesarr = ap.textContent.split("\n");
            var r = 10;
            var cancel;

            var control = 0;
            function pad(d) {
                return (d < 10) ? '0' + d.toString() : d.toString();
            }
            function getPraise() {
                return praisesarr[Math.floor(Math.random() * praisesarr.length)];
            }
            function WorkTime() {

                var el = document.getElementById('fullscreen');
                el.style.visibility = "hidden";
                el.style.opacity = "0";

                var timeis = 1500.0;
                var el = document.getElementById('seconds-counter');
                function incrementSeconds() {
                    if (timeis >= (1500 - 5) && control == 0) {
                        var ht = document.getElementById('headertext');
                        ht.innerHTML = " " + getPraise();
                        control = 1;
                    }
                    else {
                        if (timeis == (1500 - 5)) {
                            var ht = document.getElementById('headertext');
                            ht.innerHTML = " ";
                        }
                    }
                    if (timeis == 0) {
                        myStopFunction();

                        var el2 = document.getElementById('fullscreen');
                        el2.style.visibility = "visible";
                        el2.style.opacity = "1";


                        BreakTime();
                    }
                    timeis -= 1;
                    el.innerText = "" + pad(Math.floor(timeis / 60)) + ":" + pad(Math.round((timeis / 60 - Math.floor(timeis / 60)) * 60)) + "";
                }
                cancel = setInterval(incrementSeconds, 1000);
                el.classList.remove("breaktime");

            }
            WorkTime();
            function myStopFunction() {
                clearInterval(cancel);
            }
            function BreakTime() {
                control = 0;
                var timeis = 300.0 - 1;

                var el = document.getElementById('seconds-counter');
                el.classList.add("breaktime");



                function incrementSeconds() {
                    if (timeis == 0) {
                        myStopFunction();
                        WorkTime();
                    }
                    timeis -= 1;
                    el.innerText = "" + pad(Math.floor(timeis / 60)) + ":" + pad(Math.round((timeis / 60 - Math.floor(timeis / 60)) * 60)) + "";
                }
                cancel = setInterval(incrementSeconds, 1000);
            }

            
            var elem = document.getElementById("body");

            var array;
            var i = 0;
            var jedan, dva, tri;
            jedan = 0; dva = 0; tri = 0;
            var k = 0;
            var submit = document.getElementById("submit");
            var neznam = document.getElementById("neznam");
            var onako = document.getElementById("onako");
            var znam = document.getElementById("znam");

            var ch1 = document.getElementById("vehicle1");
            var ch2 = document.getElementById("vehicle2");
            var ch3 = document.getElementById("vehicle3");

            function getSplitedRows() {

                var nf = document.getElementById("newfile");
                nf.style.display = "none";
                var nf = document.getElementById("textmarking");
                nf.style.display = "block";
                var textarea= document.getElementById("here");
                textarea.innerHTML="";

                ch1 = document.getElementById("vehicle1");
                ch2 = document.getElementById("vehicle2");
                ch3 = document.getElementById("vehicle3");
                var textarea = document.getElementById("here");
                var divhere = document.getElementById("divhere");
                divhere.innerHTML = "<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>"; //clear divhere before inputing everything
                array = textarea.value.split("\n");
                var novired = document.createElement("p");
                novired.textContent = array[i];
                divhere.appendChild(novired);
                divhere.lastChild.style.fontSize = "20px";


            }
            function getNewRow() {
                k++;
                i++;
                var novired = document.createElement("p");
                novired.textContent = array[i];
                //  if first letter R then color red

                divhere.appendChild(novired);
                divhere.lastChild.style.fontSize = "20px";

                switch (divhere.children[divhere.children.length - 1].textContent.substring(1, 0)) {
                    case "R": if (ch1.checked) { JustColorRed() } else { JustColorUnvisible() }; break;
                    case "Y": if (ch2.checked) { JustColorYellow() } else { JustColorUnvisible() }; break;
                    case "G": if (ch3.checked) { JustColorGreen() } else { JustColorUnvisible() }; break;
                    default: break;
                }
                novired.scrollIntoView();
            }
            function RemoveLastRow() {
                i--;
                divhere.children[divhere.children.length - 1].remove();
            }

            window.onkeydown = CheckKey;

            function CheckKey(e) {

                if (e.keyCode == '49' || e.keyCode == '97') {
                    neZnam();   
                } else if (e.keyCode == '50' || e.keyCode == '98') {
                    Onako();
                } else if (e.keyCode == '51' || e.keyCode == '99') {
                    Znam();
                } else if (e.keyCode == '109') {//minus
                    RemoveLastRow();
                }
            }

            function neZnam(e) {
                ColorRed();
                getNewRow();
                Progress();
            }
            function Onako(e) {
                ColorYelow();
                getNewRow();
                Progress();
            }
            function Znam(e) {  
                ColorGreen();
                getNewRow();
                Progress();
            }
            function ColorRed() {
                divhere.children[divhere.children.length - 1].style.background = "#FA633C";
                divhere.children[divhere.children.length - 1].style.fontSize = "14px";
                divhere.children[divhere.children.length - 1].textContent = "R" + divhere.children[divhere.children.length - 1].textContent.substr(1);

            }
            function ColorYelow() {
                divhere.children[divhere.children.length - 1].style.fontSize = "14px";
                divhere.children[divhere.children.length - 1].style.background = "#FFB624";
                divhere.children[divhere.children.length - 1].textContent = "Y" + divhere.children[divhere.children.length - 1].textContent.substr(1);

            }
            function ColorGreen() {
                divhere.children[divhere.children.length - 1].style.fontSize = "14px";
                divhere.children[divhere.children.length - 1].style.background = "#92FF6D";
                divhere.children[divhere.children.length - 1].textContent = "G" + divhere.children[divhere.children.length - 1].textContent.substr(1);

            }
            function JustColorRed() {
                divhere.children[divhere.children.length - 1].style.color = "#ff6d6d";

            }
            function JustColorYelow() {
                divhere.children[divhere.children.length - 1].style.color = "#e6e625";

            }
            function JustColorGreen() {
                divhere.children[divhere.children.length - 1].style.color = "#85ff85";

            }
            function JustColorUnvisible() {
                divhere.children[divhere.children.length - 1].style.visibility = "hidden";

            }

            function Progress() {
                var ii = 0;
                var elem = document.getElementById("myBar");
                var width = (100 / array.length) * i;
                elem.style.width = width + "%";
                if (width > 99.99) {
                    elem.innerHTML = "Well done";
                }
                else {
                    elem.innerHTML = "";
                    elem.style.background = "#85ff85";
                }
            }

            function NewFileFunction() {
                var nf = document.getElementById("newfile");
                nf.style.display = "block";
                var nf = document.getElementById("textmarking");
                nf.style.display = "none";
                
            }

            function openFullscreen() {
                var elem = document.documentElement;

                if (elem.requestFullscreen) {
                elem.requestFullscreen();
                } else if (elem.mozRequestFullScreen) { /* Firefox */
                elem.mozRequestFullScreen();
                } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari and Opera */
                elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) { /* IE/Edge */
                elem.msRequestFullscreen();
                }
            }

        </script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.0/js/bootstrap.bundle.min.js"></script>

</body>

</html>